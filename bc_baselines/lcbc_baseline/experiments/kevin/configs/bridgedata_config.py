import ml_collections

PNP_TASKS = [
    "frederik/berkeley/toysink1_room8052/put_pan_from_sink_into_drying_rack/",
    "frederik/berkeley/toysink1_room8052/put_pan_from_drying_rack_into_sink/",
    "frederik/berkeley/toysink1_room8052/put_pan_on_stove_from_sink/",
    "frederik/berkeley/toysink1_room8052/put_spoon_into_pan/",
    "frederik/berkeley/toysink1_room8052/put_pan_from_stove_to_sink/",
    "frederik/berkeley/toysink1_room8052/put_eggplant_into_pan/",
    "frederik/berkeley/realkitchen1_counter/put_spoon_on_plate/",
    "frederik/berkeley/realkitchen1_counter/pick_up_sponge_and_wipe_plate/",
    "frederik/berkeley/realkitchen1_dishwasher/pick_up_any_cup/",
    "frederik/berkeley/realkitchen1_dishwasher/pick_up_green_mug/",
    "frederik/berkeley/realkitchen1_dishwasher/pick_up_glass_cup/",
    "frederik/berkeley/toysink2_bww/put_carrot_on_plate/",
    "frederik/berkeley/toysink2_bww/put_spoon_in_pot/",
    "frederik/berkeley/toysink2_bww/put_knife_on_cutting_board/",
    "frederik/berkeley/toysink2_bww/put_cup_from_counter_or_drying_rack_into_sink/",
    "frederik/berkeley/toysink2_bww/put_eggplant_into_pot_or_pan/",
    "frederik/berkeley/toykitchen4/put_banana_in_pot_or_pan/",
    "frederik/berkeley/toykitchen4/put_lid_on_pot_or_pan/",
    "frederik/berkeley/toykitchen4/put_pear_on_plate/",
    "frederik/berkeley/toykitchen4/put_carrot_in_bowl/",
    "frederik/berkeley/toykitchen4/put_sushi_in_pot_or_pan/",
    "frederik/berkeley/toykitchen4/put_detergent_in_sink/",
    "frederik/berkeley/laundry_machine/take_clothes_out_of_laundry_machine/",
    "frederik/berkeley/laundry_machine/put_clothes_in_laundry_machine/",
    "frederik/berkeley/toysink3_bww/put_cup_into_pot_or_pan/",
    "frederik/berkeley/toysink3_bww/put_lid_on_pot_or_pan/",
    "frederik/berkeley/toysink3_bww/put_cup_from_anywhere_into_sink/",
    "frederik/berkeley/toysink3_bww/put_knife_in_pot_or_pan/",
    "frederik/berkeley/toysink3_bww/put_green_squash_into_pot_or_pan/",
    "frederik/berkeley/toysink3_bww/take_lid_off_pot_or_pan/",
    "frederik/berkeley/toysink3_bww/put_pot_or_pan_from_sink_into_drying_rack/",
    "frederik/berkeley/toysink3_bww/put_brush_into_pot_or_pan/",
    "frederik/berkeley/toysink3_bww/put_detergent_from_sink_into_drying_rack/",
    "frederik/berkeley/toykitchen1/put_sushi_on_plate/",
    "frederik/berkeley/toykitchen1/put_pan_in_sink/",
    "frederik/berkeley/toykitchen1/put_broccoli_in_bowl/",
    "frederik/berkeley/toykitchen1/put_pot_on_stove_which_is_near_stove_distractors/",
    "frederik/berkeley/toykitchen1/put_corn_into_bowl/",
    "frederik/berkeley/toykitchen1/take_can_out_of_pan/",
    "frederik/berkeley/toykitchen1/put_fork_from_basket_to_tray/",
    "frederik/berkeley/toykitchen1/put_eggplant_on_plate/",
    "frederik/berkeley/toykitchen1/put_lid_on_pot_or_pan/",
    "frederik/berkeley/toykitchen1/put_corn_in_pot_which_is_in_sink_distractors/",
    "frederik/berkeley/toykitchen1/put_carrot_on_plate/",
    "frederik/berkeley/toykitchen1/take_carrot_off_plate_cardboardfence/",
    "frederik/berkeley/toykitchen1/put_sweet_potato_in_pan_which_is_on_stove_distractors/",
    "frederik/berkeley/toykitchen1/put_big_spoon_from_basket_to_tray/",
    "frederik/berkeley/toykitchen1/take_broccoli_out_of_pan/",
    "frederik/berkeley/toykitchen1/put_lid_on_stove/",
    "frederik/berkeley/toykitchen1/put_sweet_potato_in_pan_which_is_on_stove/",
    "frederik/berkeley/toykitchen1/put_corn_in_pan_which_is_on_stove_distractors/",
    "frederik/berkeley/toykitchen1/put_pear_in_bowl/",
    "frederik/berkeley/toykitchen1/pick_up_pan_from_stove_distractors/",
    "frederik/berkeley/toykitchen1/put_banana_on_plate/",
    "frederik/berkeley/toykitchen1/pick_up_pot_from_sink_distractors/",
    "frederik/berkeley/toykitchen1/put_sweet_potato_in_pot_which_is_in_sink_distractors/",
    "frederik/berkeley/toykitchen1/put_pot_in_sink/",
    "frederik/berkeley/toykitchen1/take_sushi_out_of_pan/",
    "frederik/berkeley/toykitchen1/put_detergent_in_sink/",
    "frederik/berkeley/toykitchen1/take_broccoli_out_of_pan_cardboardfence/",
    "frederik/berkeley/toykitchen1/put_broccoli_in_pot_cardboardfence/",
    "frederik/berkeley/toykitchen1/take_lid_off_pot_or_pan/",
    "frederik/berkeley/toykitchen1/take_carrot_off_plate/",
    "frederik/berkeley/toykitchen1/put_eggplant_in_pot_or_pan/",
    "frederik/berkeley/toykitchen1/put_carrot_on_plate_cardboardfence/",
    "frederik/berkeley/toykitchen1/pick_up_bowl_and_put_in_small4fbox/",
    "frederik/berkeley/toykitchen1/put_carrot_on_cutting_board/",
    "frederik/berkeley/toykitchen1/put_red_bottle_in_sink/",
    "frederik/berkeley/toykitchen1/put_pepper_in_pan/",
    "frederik/berkeley/toykitchen1/put_broccoli_in_pot_or_pan/",
    "frederik/berkeley/toykitchen1/put_knife_on_cutting_board/",
    "frederik/berkeley/toykitchen1/put_small_spoon_from_basket_to_tray/",
    "frederik/berkeley/toykitchen1/put_corn_in_pan_which-is_on_stove_distractors/",
    "frederik/berkeley/toykitchen1/put_pepper_in_pot_or_pan/",
    "frederik/berkeley/toykitchen1/put_green_squash_in_pot_or_pan/",
    # "frederik/berkeley/tabletop_dark_wood/put_spatula_on_cutting_board/",
    # "frederik/berkeley/tabletop_dark_wood/put_banana_in_colander/",
    # "frederik/berkeley/tabletop_dark_wood/take_banana_out_of_colander/",
    "frederik/berkeley/toykitchen6/take_cup_off_plate/",
    "frederik/berkeley/toykitchen6/put_spatula_on_plate_sink/",
    "frederik/berkeley/toykitchen6/take_spoon_out_of_bowl_sink/",
    "frederik/berkeley/toykitchen6/put_beet_in_pot_sink/",
    "frederik/berkeley/toykitchen6/put_corn_in_bowl_sink/",
    "frederik/berkeley/toykitchen6/put_blueberries_on_plate_sink/",
    "frederik/berkeley/toykitchen6/take_corn_out_of_bowl_sink/",
    "frederik/berkeley/toykitchen6/put_cup_on_plate/",
    "frederik/berkeley/toykitchen6/take_blueberries_off_plate_sink/",
    "frederik/berkeley/toykitchen6/take_beet_from_pot_sink/",
    "frederik/berkeley/toykitchen6/take_spatula_off_plate_sink/",
    "frederik/berkeley/toykitchen6/put_spoon_in_bowl_sink/",
    "frederik/berkeley/tabletop_white/put_sushi_on_plate/",
    "frederik/berkeley/tabletop_white/take_sushi_off_plate/",
    "frederik/berkeley/tabletop_light_wood/put_cucumber_in_cup/",
    "frederik/berkeley/tabletop_light_wood/take_cucumber_out_of_cup/",
    "frederik/berkeley/toykitchen2/take_bowl_off_plate_cardboard_fence/",
    "frederik/berkeley/toykitchen2/put_bowl_on_plate/",
    "frederik/berkeley/toykitchen2/take_bowl_off_plate/",
    "frederik/berkeley/toykitchen2/take_sushi_out_of_pot_cardboard_fence/",
    "frederik/berkeley/toykitchen2/take_lid_off_pot_cardboardfence/",
    "frederik/berkeley/toykitchen2/put_potato_in_pot_cardboard_fence/",
    "frederik/berkeley/toykitchen2/take_carrot_out_of_pot_cardboard_fence/",
    "frederik/berkeley/toykitchen2/put_carrot_in_pot_cardboard_fence/",
    "frederik/berkeley/toykitchen2/put_knife_on_cutting_board_cardboard_fence/",
    "frederik/berkeley/toykitchen2/put_cap_on_container/",
    "frederik/berkeley/toykitchen2/put_sushi_in_pot_cardboard_fence/",
    "frederik/berkeley/toykitchen2/put_bowl_on_plate_cardboard_fence/",
    "frederik/berkeley/toykitchen2/put_lid_on_pot_cardboardfence/",
    "frederik/berkeley/toykitchen2/put_banana_in_pot_cardboard_fence/",
    "frederik/berkeley/toykitchen2/put_pear_in_bowl_cardboardfence/",
    "frederik/berkeley/toykitchen2/put_knife_in_pot_cardboard_fence/",
    "frederik/berkeley/toykitchen2_room8052/put_spatula_in_pan/",
    "frederik/berkeley/toykitchen2_room8052/put_pot_or_pan_on_stove/",
    "frederik/berkeley/toykitchen2_room8052/put_potato_in_pot_or_pan/",
    "frederik/berkeley/toykitchen2_room8052/put_pear_in_bowl/",
    "frederik/berkeley/toykitchen2_room8052/put_knife_on_cutting_board/",
    "frederik/berkeley/toykitchen2_room8052/put_pot_or_pan_in_sink/",
    "frederik/berkeley/toykitchen2_room8052/put_strawberry_in_pot/",
    "frederik/berkeley/toykitchen2_room8052/put_lemon_on_plate/",
    "frederik/berkeley/toykitchen2_room8052/put_corn_on_plate/",
    "frederik/berkeley/toykitchen2_room8052/put_sushi_on_plate/",
    "frederik/berkeley/toykitchen2_room8052/put_can_in_pot/",
    "frederik/berkeley/toykitchen2_room8052/put_potato_on_plate/",
    "frederik/berkeley/toykitchen2_room8052/lift_bowl/",
    "frederik/berkeley/toykitchen2_room8052/put_carrot_in_pot_or_pan/",
    "frederik/berkeley/toykitchen2_room8052/put_sweet_potato_in_pot/",
    "frederik/berkeley/tool_chest/pick_up_blue_pen_and_put_into_drawer/",
    "frederik/berkeley/tool_chest/pick_up_red_srewdriver/",
    "frederik/berkeley/tool_chest/pick_up_box_cutter_and_put_into_drawer/",
    "frederik/berkeley/tool_chest/pick_up_violet_Allen_key/",
    "frederik/berkeley/tool_chest/pick_up_bit_holder/",
    "frederik/berkeley/tool_chest/pick_up_scissors_and_put_into_drawer/",
    "frederik/berkeley/tool_chest/pick_up_glue_and_put_into_drawer/",
]


def get_config(config_string):
    possible_structures = {
        "icra_only": ml_collections.ConfigDict({"include": ["icra/*/*/*"]}),
        "all_no_upenn": ml_collections.ConfigDict(
            {
                "include": [
                    "icra/*/*/*",
                    "flap/*/*/*",
                    "icra_validation/*/*/*",
                    "frederik/berkeley/*/*",
                    "pot_debug/*/*/*",
                ],
                "action_metadata": {
                    "mean": [
                        0.00043186,
                        0.00012152,
                        -0.00037282,
                        -0.000559,
                        -0.00106394,
                        0.00027828,
                        0.6374778,  # updated for non-relabeled gripper
                    ],
                    "std": [
                        0.00942238,
                        0.012355,
                        0.01130545,
                        0.03382884,
                        0.03326752,
                        0.05504435,
                        0.47674853,  # updated for non-relabeled gripper
                    ],
                },
            }
        ),
        "pot_debug_only": ml_collections.ConfigDict(
            {
                "include": ["pot_debug/*/*/*"],
                "action_metadata": {
                    "mean": [
                        -0.00000938,
                        -0.00008072,
                        0.00001938,
                        0.00002596,
                        0.00001278,
                        0.00006429,
                        0.64762616,  # still from relabeled gripper
                    ],
                    "std": [
                        0.00415953,
                        0.01535118,
                        0.01406319,
                        0.03267897,
                        0.01812196,
                        0.02036841,
                        0.41871086,  # still from relabeled gripper
                    ],
                },
            }
        ),
        "set_table_only": ml_collections.ConfigDict(
            {
                "include": [["rss/toykitchen2/set_*/*"]],
                "sample_weights": [1.0],
                "action_metadata": {
                    "mean": [
                        0.00020685,
                        0.00137641,
                        -0.0001651,
                        0.00066655,
                        0.00018259,
                        0.00134743,
                        0.64653593,  # updated for non-relabeled gripper
                    ],
                    "std": [
                        0.00788561,
                        0.012752,
                        0.00814225,
                        0.0214361,
                        0.02388774,
                        0.049801,
                        0.47289217,  # updated for non-relabeled gripper
                    ],
                },
            }
        ),
        "settable-scripted_bridge": ml_collections.ConfigDict(
            {
                "include": [
                    ["rss/toykitchen2/set_*/*", "rss/toykitchen2/scripted/*"],
                    [
                        "icra/*/*/*",
                        "flap/*/*/*",
                        "icra_validation/*/*/*",
                        "frederik/berkeley/*/*",
                    ],
                ],
                "sample_weights": [0.5, 0.5],
                "action_metadata": {
                    # relabeled actions (not updated for binarized gripper)
                    "mean": [
                        0.00038251,
                        0.00016184,
                        -0.00042959,
                        -0.00047381,
                        -0.00105344,
                        0.00030045,
                        0.6242408,
                    ],
                    "std": [
                        0.00921317,
                        0.01205175,
                        0.0112277,
                        0.03224499,
                        0.03204975,
                        0.06122573,
                        0.48018312,
                    ],
                    # non-relabeled actions
                    # "mean": [
                    #     0.0006092,
                    #     0.00018018,
                    #     0.00025068,
                    #     -0.00027468,
                    #     -0.00278798,
                    #     -0.00001568,
                    #     0.6242408,
                    # ],
                    # "std": [
                    #     0.00995603,
                    #     0.01403384,
                    #     0.01312088,
                    #     0.03193668,
                    #     0.0301012,
                    #     0.09403265,
                    #     0.48018312,
                    # ],
                },
            }
        ),
        "settable-scripted_bridge_pnp": ml_collections.ConfigDict(
            {
                "include": [
                    ["rss/toykitchen2/?*/?*"],
                    [
                        "icra/?*/?*/?*",
                        "flap/?*/?*/?*",
                        "icra_validation/?*/?*/?*",
                    ]
                    + PNP_TASKS,
                ],
                "sample_weights": [0.7, 0.3],
                "action_metadata": {
                    # relabeled actions (not updated for binarized gripper)
                    "mean": [
                        0.00038251,
                        0.00016184,
                        -0.00042959,
                        -0.00047381,
                        -0.00105344,
                        0.00030045,
                        0.6242408,
                    ],
                    "std": [
                        0.00921317,
                        0.01205175,
                        0.0112277,
                        0.03224499,
                        0.03204975,
                        0.06122573,
                        0.48018312,
                    ],
                },
            }
        ),
        "settable-scripted": ml_collections.ConfigDict(
            {
                "include": ["rss/toykitchen2/*/*"],
                "sample_weights": [1.0],
                "action_metadata": {
                    "mean": [
                        0.00009782,
                        0.00030985,
                        -0.00021582,
                        -0.00005497,
                        -0.00006139,
                        0.00011464,
                        0.49763197,
                    ],
                    "std": [
                        0.00672835,
                        0.01073823,
                        0.01201863,
                        0.01410288,
                        0.01790107,
                        0.09404314,
                        0.49997765,
                    ],
                },
            }
        ),
        "scripted_only": ml_collections.ConfigDict(
            {
                "include": [
                    "scripted/toykitchen2/00/2022-12-08_pnp_rigid_objects_506trajs"
                ],
                "sample_weights": [1.0],
                "action_metadata": {
                    "mean": [
                        0.00007958,
                        0.00029403,
                        -0.00047185,
                        -0.00001144,
                        -0.00052916,
                        0.00002501,
                        0.50550884,
                    ],
                    "std": [
                        0.00667398,
                        0.01041129,
                        0.01195686,
                        0.01542678,
                        0.01906815,
                        0.0941911,
                        0.49994832,
                    ],
                },
            }
        ),
    }
    return possible_structures[config_string]
